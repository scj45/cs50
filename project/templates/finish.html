{% extends "template.html" %}

{% block title %}
    Finish a Book
{% endblock %}

{% block main %}
<form class="fullHeight" action="/finish" id="finish" method="post">

    <h1>Finished your book?</h1>

    <div>Title:
      <p><input placeholder="Title..." id="title" name="title"></p>

    </div>

    <div>Author:
        <p><input id="authorfirst" name="authorfirst" placeholder="First name..."></p>
        <p><input id="authorlast"  name="authorlast" placeholder="Last name..." ></p>
      </div>

    <div>What did you think?
        <br/>
        <span onclick="gfg(1)" class="star">★</span>
        <span onclick="gfg(2)" class="star">★</span>
        <span onclick="gfg(3)" class="star">★</span>
        <span onclick="gfg(4)" class="star">★</span>
        <span onclick="gfg(5)" class="star">★</span>
        <h3 id="output" name="output"></h3>
        <input type="hidden" id="rating" name="rating">
    </div>
    <div>
        <input type="submit" value="Submit">
      </div>
</form>

<script>
    // To access the stars
    let stars =
        document.getElementsByClassName("star");
    let output =
        document.getElementById("output");

    // Funtion to update rating
    function gfg(n) {
        remove();
        for (let i = 0; i < n; i++) {
            if (n == 1) cls = "one";
            else if (n == 2) cls = "two";
            else if (n == 3) cls = "three";
            else if (n == 4) cls = "four";
            else if (n == 5) cls = "five";
            stars[i].className = "star " + cls;
        }
        output.innerText = "Rating is: " + n + "/5";
        document.getElementById("rating").value = n;
        console.log(document.getElementById("rating").value);
    }

    // To remove the pre-applied styling
    function remove() {
        let i = 0;
        while (i < 5) {
            stars[i].className = "star";
            i++;
        }
    }

</script>
{% endblock %}
